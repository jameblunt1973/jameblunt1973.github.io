
 <!DOCTYPE HTML>
<html lang="zh-CH" xmlns:wb="http://open.weibo.com/wb">
<head>
  <meta charset="UTF-8">
  
    <title>js变量的作用域 | 帅的拖网速</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="网拖">
    
    <meta name="description" content="浏览器对js文件的解析机制function fn(){};
fn();
console.log(i);
var i=10;
var k=20;
console.log(k);
首先，浏览器在解析这段代码前，是先把代码中的变量 i和k放到了代码最前面。
上例：
 var i ;
 var k ;
 f">
    
    
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="idreajay" />
    <meta name="twitter:title" content="js变量的作用域 | 帅的拖网速" />
      
    
    
    <link rel="alternate" href="atom.xml" title="帅的拖网速" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="帅的拖网速">帅的拖网速</a></h1>
				<h2 class="blog-motto">来自朝鲜的一段网波</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">文章</a></li>
					
						<li><a href="/about">关于</a></li>
					
						<li><a href="/atom.xml">RSS订阅</a></li>
					
					<li>
					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="30" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/25/js作用域/" title="js变量的作用域" itemprop="url">js变量的作用域</a>
  </h1>
  <!-- 显示作者
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="网拖">网拖</a>
    </p>
  -->  
  <p class="article-time">
    <time datetime="2015-11-25T08:59:17.000Z" itemprop="datePublished">2015-11-25</time>
    更新日期:<time datetime="2015-11-28T01:15:55.000Z" itemprop="dateModified">2015-11-28</time>
    
  </p>
</header>

	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目錄</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#浏览器对js文件的解析机制"><span class="toc-number">1.</span> <span class="toc-text">浏览器对js文件的解析机制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#变量的作用域"><span class="toc-number">2.</span> <span class="toc-text">变量的作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#函数的书写形式"><span class="toc-number">2.1.</span> <span class="toc-text">函数的书写形式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作用域"><span class="toc-number">2.2.</span> <span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数的使用方法拓展"><span class="toc-number">2.3.</span> <span class="toc-text">函数的使用方法拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在外部使用函数内部的变量"><span class="toc-number">2.3.1.</span> <span class="toc-text">在外部使用函数内部的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#计算函数参数值的和的方法"><span class="toc-number">2.3.2.</span> <span class="toc-text">计算函数参数值的和的方法</span></a></li></ol></li></ol></li></ol>
		</div>
		
		<h1 id="浏览器对js文件的解析机制">浏览器对js文件的解析机制</h1><pre><code><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>{};
fn();
<span class="built_in">console</span>.log(i);
<span class="keyword">var</span> i=<span class="number">10</span>;
<span class="keyword">var</span> k=<span class="number">20</span>;
<span class="built_in">console</span>.log(k);
首先，浏览器在解析这段代码前，是先把代码中的变量 i和k放到了代码最前面。
上例：
 <span class="keyword">var</span> i ;
 <span class="keyword">var</span> k ;
 <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>{};
 fn();
 <span class="built_in">console</span>.log(i);<span class="comment">//此处的console.log(i) 的结果是undefind；从执行循序来看是无法获取到i的值的。</span>
 i=<span class="number">10</span>;
 k=<span class="number">20</span>;
 <span class="built_in">console</span>.log(k);<span class="comment">//此处k的值就是打印出来就是 20；从执行顺序来看，可以获取到k的值。</span>
</code></pre><h1 id="变量的作用域">变量的作用域</h1><h2 id="函数的书写形式">函数的书写形式</h2><pre><code>要想了解变量的作用域需要先明白函数的三种形式
声明函数是使用<span class="function"><span class="keyword">function</span>关键字+函数名来声明的函数</span>
例：
    <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span>{</span>

    };
函数表达式是使用<span class="function"><span class="keyword">function</span>关键字，但没有函数名，把函数赋值给一个变量的函数。</span>
例：
    var <span class="built_in">i</span> = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>

    };
匿名函数是直接使用关键字来声明的函数的。
例：
    <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    };
函数表达式和声明函数的区别：
 函数表达式可以直接使用()操作符。()表示立即执行。声明函数不可以直接使用。
 想要使用的话，可以先把声明函数包装为函数表达式的形式。可以在对声明函数添加+、-、*、/（）等符号。推荐使用().
 例：声明函数包装为函数表达式，使用();
        (<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
             console.<span class="built_in">log</span>(<span class="string">'我是帅哥，嘿嘿！'</span>)
        })();
         函数表达式使用();
         a = <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span>{</span>
             console.<span class="built_in">log</span>(<span class="string">'啊，还是这个帅哥！'</span>)
         }();
</code></pre><h2 id="作用域">作用域</h2><pre><code>首先了解下全局变量和局部变量。
    在js中 使用 var 的定义的变量叫做局部变量。直接定义的变量就是全局变量。
例：
 var i＝ <span class="number">10</span>; i 这个变量就是局部变量
  i＝ <span class="number">10</span> ; i 这个变量就是全局变量
变量的作用域
    例<span class="number">1</span>：
     var a = <span class="number">10</span>;//a 是局部变量，如果它没有在<span class="function"><span class="keyword">function</span></span>中，它的作用域就是整个js；
      b = <span class="number">20</span>; // b是全局变量，作用域是整个js；
     <span class="function"><span class="keyword">function</span></span> fn (){
         var c =<span class="number">30</span> ; c是局部变量，它的作用域是在fn函数下。
         <span class="function"><span class="keyword">function</span></span> fn1(){
             i = <span class="number">40</span>; i 是全局变量，它的作用域是在整个js下。
             var c ＝ <span class="number">40</span> ;c 是局部变量，它的作用域是在fn1下。
             var d = <span class="number">50</span>;  d 是局部变量，它的作用域是在fn1下。
             console.<span class="built_in">log</span>(a);
                }
         fn1();

     }
     fn()
     例<span class="number">2</span>：
     <span class="function"><span class="keyword">function</span></span> fn(){
         var c=<span class="number">30</span>;
         <span class="function"><span class="keyword">function</span></span> fn1(){
          console.<span class="built_in">log</span>(c)//此时c的值就使它父级<span class="function"><span class="keyword">function</span></span>的c的值<span class="number">30</span>；
         }
     }
 小结;当变量是全局变量时，不论变量有没有在<span class="function"><span class="keyword">function</span></span>下，变量的作用域都是整个js。当变量定义为局部变量时，
 如果变量没有在<span class="function"><span class="keyword">function</span></span>下，它的作用域就是整个js。如果在<span class="function"><span class="keyword">function</span></span>下，就作用域这个<span class="function"><span class="keyword">function</span></span>。
 如果在<span class="function"><span class="keyword">function</span></span>下有使用变量，却没有定义时，
 就往上找到它的父级<span class="function"><span class="keyword">function</span></span>，继承它父级<span class="function"><span class="keyword">function</span></span>的值。
</code></pre><h2 id="函数的使用方法拓展">函数的使用方法拓展</h2><h3 id="在外部使用函数内部的变量">在外部使用函数内部的变量</h3><pre><code>例<span class="number">1</span>：
  <span class="keyword">var</span>  j=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
          <span class="keyword">var</span> max = <span class="number">10</span>;
          <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
            <span class="keyword">return</span> <span class="number">1</span>;
          }()
  }        
 <span class="keyword">var</span> a = j ();<span class="comment">//把值赋予a 方便调用。</span>
 <span class="built_in">console</span>.log(j());
 例<span class="number">2</span>：
 <span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>)</span>{
         <span class="keyword">var</span> max = <span class="number">10</span>;
         <span class="keyword">var</span> fn2 = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>{
              <span class="keyword">if</span>(num&gt;max){
                  <span class="built_in">console</span>.log(max);
                  <span class="built_in">console</span>.log(num);

              }

         }
         <span class="keyword">return</span> fn2;<span class="comment">//fn2 是fn函数的返回值</span>
  }
     <span class="keyword">var</span> news=fn();<span class="comment">//fn()是等于fn2的。</span>
     news(<span class="number">30</span>);<span class="comment">//news 调用的是fn2</span>
</code></pre><h3 id="计算函数参数值的和的方法">计算函数参数值的和的方法</h3><pre><code>      例<span class="number">1</span>：<span class="function">function <span class="title">jisuan</span><span class="params">()</span></span>{
      var fuhao = arguments[arguments.length-<span class="number">1</span>];

    <span class="comment">// var  changdu = arguments.length;</span>

    <span class="keyword">if</span>(fuhao==<span class="string">'+'</span>){
        <span class="keyword">for</span>(var i= <span class="number">1</span> ;i&lt;arguments.length-<span class="number">1</span>;i++){

            arguments[<span class="number">0</span>]+=arguments[i]
        }
        <span class="keyword">return</span> arguments[<span class="number">0</span>];
        } <span class="keyword">else</span> <span class="keyword">if</span> (fuhao==<span class="string">'-'</span>) {
        <span class="keyword">for</span>(var i = <span class="number">1</span>;i&lt;arguments.length-<span class="number">1</span>;i++){
            arguments[<span class="number">0</span>]-=arguments[i]
        }
        <span class="keyword">return</span> arguments[<span class="number">0</span>];
    } <span class="keyword">else</span> <span class="keyword">if</span> (fuhao==<span class="string">'*'</span>){
        <span class="keyword">for</span>(var i = <span class="number">1</span>;i&lt;arguments.length-<span class="number">1</span>;i++){
            arguments[<span class="number">0</span>]*=arguments[i]
        }
        <span class="keyword">return</span> arguments[<span class="number">0</span>];
    }<span class="keyword">else</span> <span class="keyword">if</span> (fuhao=<span class="string">'/'</span>) {
        <span class="keyword">for</span>(var i = <span class="number">1</span>;i&lt;arguments.length-<span class="number">1</span>;i++){
            arguments[<span class="number">0</span>]/=arguments[i]
        }
        <span class="keyword">return</span> arguments[<span class="number">0</span>];
       }

};
jisuan(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="string">'+'</span>);
console.<span class="built_in">log</span>(jisuan(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="string">'+'</span>));
console.<span class="built_in">log</span>(jisuan(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'-'</span>));
console.<span class="built_in">log</span>(jisuan(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'*'</span>));
console.<span class="built_in">log</span>(jisuan(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'/'</span>));
</code></pre>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-share" id="share">

  
<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
    <span class="jiathis_txt">分享到：</span>
    <a class="jiathis_button_qzone"></a>
    <a class="jiathis_button_tsina"></a>
    <a class="jiathis_button_tqq"></a>
    <a class="jiathis_button_weixin"></a>
    <a class="jiathis_button_renren"></a>
    <a href="http://www.jiathis.com/share?uid=1987046" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
    <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1987046" charset="utf-8"></script>
<!-- JiaThis Button END -->



</div>



</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2015/11/25/html和css的小结/"  title="html和css知识总结">
 <strong>下一頁:</strong><br/> 
 <span>html和css知识总结
</span>
</a>
</div>

</nav>

	<!-- 多说-->

<section class="comment">
<div class="ds-thread" data-thread-key="post-js变量的作用域" data-title="js变量的作用域" data-url="http://yoursite.com/2015/11/25/js作用域/"></div>
</section>
<!-- disqus-->


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  <p class="asidetitle">关注</p>
<iframe width="100%" height="120" class="share_self" marginheight="5px" frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=120&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2583230784&verifier=1d07a1a0&dpc=1"></iframe>

  

  

  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
   <ul>
      <li><a href="http://blog.csdn.net/dreajay" target="_blank" title="dreajay csdn">CSDN</a></li>
      <li><a href="https://github.com/dreajay" target="_blank" title="dreajay github">github</a></li>
      <li><a href="http://www.douban.com/people/72514701/" target="_blank" title="dreajay豆瓣">豆瓣</a></li>
      <li>
		<a href="http://zgmn.github.io/">胡月</a>
	</li>
	<li>
		<a href="http://running11.github.io/">邝艳芝</a>
	</li>
	<li>
		<a href="http://haomark.github.io/">郝云鹏</a>
	</li>
	<li>
		<a href="http://jameblunt1973.github.io/">张记文</a>
	</li>
	<li>
		<a href="http://bairuoqing666.github.io/">白若卿</a>
	</li>
	<li>
		<a href="http://gcsHaya.github.io/">张俊琪</a>
	</li>
	<li>
		<a href="http://zy8232003.github.io/">张跃</a>
	</li>
	<li>
		<a href="http://weibo0909.github.io/">魏传波</a>
	</li>
	<li>
		<a href="http://luqiqi1225.github.io">陆琦</a>
	</li>
	<li>
		<a href="http://chumengxing1121.github.io/">褚梦星</a>
	</li>
	<li>
		<a href="http://aoyi551083.github.io/">敖艺</a>
	</li>
	<li>
		<a href="http://zoeyzhou.github.io">周叶</a>
	</li>
	<li>
		<a href=" http://athenachu.github.io/">汪凌峰</a>
	</li>
	<li>
		<a href="http://sundyfuther.github.io/">陈晓佳</a>
	</li>
	<li>
		<a href="http://sh5054.github.io/">孙浩</a>
	</li>
	<li>
		<a href="http://quanquanxuan.github.io/">宣圆圆</a>
	</li>
	<li>
		<a href="http://baobeiaini.github.io/">王贝贝</a>
	</li>
	<li>
		<a href="http://crerich.github.io/">程华</a>
	</li>
	<li>
		<a href="http://tyl1002353363.github.io/">谭于磊</a>
	</li>
	<li>
		<a href="http://yamanai.github.io/">张明</a>
	</li>
	<li>
		<a href="http://lck297231489.github.io/">刘臣康</a>
	</li>
	<li>
		<a href="http://tavey.github.io/">王晓伟</a>
	</li>
	<li>
		<a href="http://wj1213180604.github.io/">王娟</a>
	</li>
	<li>
		<a href="http://zhuqy.github.io/">祝倩莹</a>
	</li>
	<li>
		<a href="http://tang0916tang.github.io/">张晓翠</a>
	</li>
	<li>
		<a href="http://quangege.github.io/">张涌泉</a>
	</li>
	<li>
		<a href="http://niexiaofei1988.github.io/">聂海锋</a>
	</li>
	<li>
		<a href="http://changxiangru.github.io/">常相如</a>
	</li>
	<li>
		<a href="http://xuyanchao.github.io/">许颜超</a>
	</li>
	<li>
		<a href="http://samguoqiang.github.io./">陈国强</a>
	</li>
	<li>
		<a href="http://hanmingyang.github.io/">韩明洋</a>
	</li>
   </ul>
</div>


  <div class="rsspart">
	<a href="atom.xml" target="_blank" title="rss">RSS 訂閱</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p> 不会逗比的前端工程师，绝对不是一个好司机! <br/>
			再长的路，一步步也能走完，再短的路，不迈开双脚也无法到达，平凡的脚步也可以走完伟大的行程！</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2583230784" target="_blank" title="weibo"></a>
		
		
		<a href="https://twitter.com/idreajay" target="_blank" title="twitter"></a>
		
		
		<a href="https://github.com/dreajay" target="_blank" title="github"></a>
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="pacman">pacman</a> © 2015 
		
		<a href="http://yoursite.com" target="_blank" title="网拖">网拖</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"dreajaygithubblog"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 








<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F77edef7e6931022edbd2322ec66456e1' type='text/javascript'%3E%3C/script%3E"));
</script>

<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>
<script type="text/javascript">
	(function($) { 
		// When to show the scroll link
		// higher number = scroll link appears further down the page   
		var upperLimit = 300;
		
		// Our scroll link element
		var scrollElem = $('#totop');
	   
		// Scroll to top speed
		var scrollSpeed = 800;
	   
		// Show and hide the scroll to top link based on scroll position   
		scrollElem.hide();
		$(window).scroll(function () {            
			var scrollTop = $(document).scrollTop();       
			if ( scrollTop > upperLimit ) {
				$(scrollElem).stop().fadeTo(300, 1); // fade back in           
			}else{       
				$(scrollElem).stop().fadeTo(300, 0); // fade out
			}
		});
		// Scroll to top animation on click
		$(scrollElem).click(function(){
			$('html, body').animate({scrollTop:0}, scrollSpeed); return false;
		});
	})(jQuery);
</script>


  </body>
</html>

